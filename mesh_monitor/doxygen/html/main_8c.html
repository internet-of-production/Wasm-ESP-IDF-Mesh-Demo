<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wasm-ESP-IDF-Mesh-Demo Monitor Node: /Users/otoyanakakaze/Wasm-ESP-IDF-Mesh-Demo/mesh_monitor/src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wasm-ESP-IDF-Mesh-Demo Monitor Node
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>main program of the monitor node.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freertos/FreeRTOS.h&gt;</code><br />
<code>#include &lt;freertos/task.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;esp_wifi.h&quot;</code><br />
<code>#include &quot;esp_event.h&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;esp_mesh.h&quot;</code><br />
<code>#include &quot;esp_mesh_internal.h&quot;</code><br />
<code>#include &quot;nvs_flash.h&quot;</code><br />
<code>#include &quot;esp_spiffs.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mesh__msg__codes_8h_source.html">mesh_msg_codes.h</a>&quot;</code><br />
<code>#include &quot;esp_bt.h&quot;</code><br />
<code>#include &quot;esp_gap_ble_api.h&quot;</code><br />
<code>#include &quot;esp_gatts_api.h&quot;</code><br />
<code>#include &quot;esp_bt_defs.h&quot;</code><br />
<code>#include &quot;esp_bt_main.h&quot;</code><br />
<code>#include &quot;esp_gatt_common_api.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ble-wasm_8h_source.html">ble-wasm.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgatts__profile__inst.html">gatts_profile_inst</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">One gatt-based profile one app_id and one gatts_if, this array will store the gatts_if returned by ESP_GATTS_REG_EVT.  <a href="structgatts__profile__inst.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ã€€a prepare buffer structure to handle long characteristic write  <a href="structprepare__type__env__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abca553cf3c46dc9975f19fcaf17275ea"><td class="memItemLeft" align="right" valign="top"><a id="abca553cf3c46dc9975f19fcaf17275ea" name="abca553cf3c46dc9975f19fcaf17275ea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REMOVE_DATA_DEST</b>&#160;&#160;&#160;0xC2</td></tr>
<tr class="separator:abca553cf3c46dc9975f19fcaf17275ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fefb187a4ff2497c2abbc68ee21e61"><td class="memItemLeft" align="right" valign="top"><a id="af2fefb187a4ff2497c2abbc68ee21e61" name="af2fefb187a4ff2497c2abbc68ee21e61"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BLE_WASM_OFF_MSG</b>&#160;&#160;&#160;0x06</td></tr>
<tr class="separator:af2fefb187a4ff2497c2abbc68ee21e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa981e599aa044183d4c19a576cdc8a9"><td class="memItemLeft" align="right" valign="top"><a id="aaa981e599aa044183d4c19a576cdc8a9" name="aaa981e599aa044183d4c19a576cdc8a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RX_SIZE</b>&#160;&#160;&#160;(1500)</td></tr>
<tr class="memdesc:aaa981e599aa044183d4c19a576cdc8a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">MTU of incoming packets. MESH_MTU is 1500 bytes. <br /></td></tr>
<tr class="separator:aaa981e599aa044183d4c19a576cdc8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1eef3a18bfaa9a6c515692ffd9321e"><td class="memItemLeft" align="right" valign="top"><a id="a6a1eef3a18bfaa9a6c515692ffd9321e" name="a6a1eef3a18bfaa9a6c515692ffd9321e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TX_SIZE</b>&#160;&#160;&#160;(1460)</td></tr>
<tr class="memdesc:a6a1eef3a18bfaa9a6c515692ffd9321e"><td class="mdescLeft">&#160;</td><td class="mdescRight">MTU of outgoing packets. <br /></td></tr>
<tr class="separator:a6a1eef3a18bfaa9a6c515692ffd9321e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac045d6065f086bf05818acec3c7c9657"><td class="memItemLeft" align="right" valign="top"><a id="ac045d6065f086bf05818acec3c7c9657" name="ac045d6065f086bf05818acec3c7c9657"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONFIG_MESH_ROUTE_TABLE_SIZE</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ac045d6065f086bf05818acec3c7c9657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636987e8eb99456d7c96acb274775608"><td class="memItemLeft" align="right" valign="top"><a id="a636987e8eb99456d7c96acb274775608" name="a636987e8eb99456d7c96acb274775608"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONFIG_MESH_AP_CONNECTIONS</b>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a636987e8eb99456d7c96acb274775608"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of max connections. MAX 10 connections allowed <br /></td></tr>
<tr class="separator:a636987e8eb99456d7c96acb274775608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb1501a0701c081acf3e02521c59783"><td class="memItemLeft" align="right" valign="top"><a id="a0fb1501a0701c081acf3e02521c59783" name="a0fb1501a0701c081acf3e02521c59783"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONFIG_MESH_CHANNEL</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a0fb1501a0701c081acf3e02521c59783"><td class="mdescLeft">&#160;</td><td class="mdescRight">channel (must match the router's channel) <br /></td></tr>
<tr class="separator:a0fb1501a0701c081acf3e02521c59783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cd6f969b78bcf5300ca35fe4ab05cc"><td class="memItemLeft" align="right" valign="top"><a id="ad7cd6f969b78bcf5300ca35fe4ab05cc" name="ad7cd6f969b78bcf5300ca35fe4ab05cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONFIG_MESH_AP_PASSWD</b>&#160;&#160;&#160;&quot;wasiwasm&quot;</td></tr>
<tr class="memdesc:ad7cd6f969b78bcf5300ca35fe4ab05cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Password ofMesh Access Point. <br /></td></tr>
<tr class="separator:ad7cd6f969b78bcf5300ca35fe4ab05cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc57482a061e04f4a9360dcb2047a87"><td class="memItemLeft" align="right" valign="top"><a id="a9dc57482a061e04f4a9360dcb2047a87" name="a9dc57482a061e04f4a9360dcb2047a87"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MESH_NODE_NAME</b>&#160;&#160;&#160;&quot;data_processor&quot;</td></tr>
<tr class="separator:a9dc57482a061e04f4a9360dcb2047a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84637c2f2c34b66d2c6bfa848f1a7704"><td class="memItemLeft" align="right" valign="top"><a id="a84637c2f2c34b66d2c6bfa848f1a7704" name="a84637c2f2c34b66d2c6bfa848f1a7704"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MESH_DATA_STREAM_TABLE_LEN</b>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a84637c2f2c34b66d2c6bfa848f1a7704"><td class="mdescLeft">&#160;</td><td class="mdescRight">#receiver of data <br /></td></tr>
<tr class="separator:a84637c2f2c34b66d2c6bfa848f1a7704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f515d632e799fb8e45b0fa26ffc736b"><td class="memItemLeft" align="right" valign="top"><a id="a7f515d632e799fb8e45b0fa26ffc736b" name="a7f515d632e799fb8e45b0fa26ffc736b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_MACHINE_DATA</b>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a7f515d632e799fb8e45b0fa26ffc736b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample sensor data for experiment. <br /></td></tr>
<tr class="separator:a7f515d632e799fb8e45b0fa26ffc736b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfd2b9db5ca3f34a6f579d14c966388"><td class="memItemLeft" align="right" valign="top"><a id="abdfd2b9db5ca3f34a6f579d14c966388" name="abdfd2b9db5ca3f34a6f579d14c966388"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HAS_WASM_MODULE</b></td></tr>
<tr class="separator:abdfd2b9db5ca3f34a6f579d14c966388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c68a6b3ec783eb09e1e3a413b0a33c"><td class="memItemLeft" align="right" valign="top"><a id="ac4c68a6b3ec783eb09e1e3a413b0a33c" name="ac4c68a6b3ec783eb09e1e3a413b0a33c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WASM_STACK_SLOTS</b>&#160;&#160;&#160;4000</td></tr>
<tr class="separator:ac4c68a6b3ec783eb09e1e3a413b0a33c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9735a959416a518bc255e99132dd8ad7"><td class="memItemLeft" align="right" valign="top"><a id="a9735a959416a518bc255e99132dd8ad7" name="a9735a959416a518bc255e99132dd8ad7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CALC_INPUT</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a9735a959416a518bc255e99132dd8ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae585014495c591b27704890405a38cac"><td class="memItemLeft" align="right" valign="top"><a id="ae585014495c591b27704890405a38cac" name="ae585014495c591b27704890405a38cac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FATAL</b>(func,  msg)&#160;&#160;&#160;{ ESP_LOGE(TAG, &quot;Fatal: &quot; func &quot; &quot;); ESP_LOGE(TAG, &quot;%s&quot;, msg);}</td></tr>
<tr class="separator:ae585014495c591b27704890405a38cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882abec0a2607fc730d830403f026b10"><td class="memItemLeft" align="right" valign="top"><a id="a882abec0a2607fc730d830403f026b10" name="a882abec0a2607fc730d830403f026b10"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BASE_PATH</b>&#160;&#160;&#160;&quot;/spiffs&quot;</td></tr>
<tr class="separator:a882abec0a2607fc730d830403f026b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cadbbd03e72d3f26c9165115628b015"><td class="memItemLeft" align="right" valign="top"><a id="a5cadbbd03e72d3f26c9165115628b015" name="a5cadbbd03e72d3f26c9165115628b015"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>adv_config_flag</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:a5cadbbd03e72d3f26c9165115628b015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04e4b2d6dea5c5274264345c2268fd2"><td class="memItemLeft" align="right" valign="top"><a id="ae04e4b2d6dea5c5274264345c2268fd2" name="ae04e4b2d6dea5c5274264345c2268fd2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>scan_rsp_config_flag</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:ae04e4b2d6dea5c5274264345c2268fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1dc48a4173fa7e73d4256bbae7570c3a"><td class="memItemLeft" align="right" valign="top"><a id="a1dc48a4173fa7e73d4256bbae7570c3a" name="a1dc48a4173fa7e73d4256bbae7570c3a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_default_destination</b> ()</td></tr>
<tr class="memdesc:a1dc48a4173fa7e73d4256bbae7570c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default destination of data stream. <br /></td></tr>
<tr class="separator:a1dc48a4173fa7e73d4256bbae7570c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43099092a7cf7883ba5a16bbd3983124"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a43099092a7cf7883ba5a16bbd3983124">gatts_profile_wasm_event_handler</a> (esp_gatts_cb_event_t event, esp_gatt_if_t gatts_if, esp_ble_gatts_cb_param_t *param)</td></tr>
<tr class="memdesc:a43099092a7cf7883ba5a16bbd3983124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the static function.  <br /></td></tr>
<tr class="separator:a43099092a7cf7883ba5a16bbd3983124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fd7dabbab3d2efc5c922b5b0fb75dd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a62fd7dabbab3d2efc5c922b5b0fb75dd">gatts_profile_mesh_graph_event_handler</a> (esp_gatts_cb_event_t event, esp_gatt_if_t gatts_if, esp_ble_gatts_cb_param_t *param)</td></tr>
<tr class="memdesc:a62fd7dabbab3d2efc5c922b5b0fb75dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The application profiles for mesh network communication.  <br /></td></tr>
<tr class="separator:a62fd7dabbab3d2efc5c922b5b0fb75dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace91c595b2b150a2105fc7fcbb4ec219"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ace91c595b2b150a2105fc7fcbb4ec219">example_write_event_env</a> (esp_gatt_if_t gatts_if, <a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a> *prepare_write_env, esp_ble_gatts_cb_param_t *param)</td></tr>
<tr class="memdesc:ace91c595b2b150a2105fc7fcbb4ec219"><td class="mdescLeft">&#160;</td><td class="mdescRight">write event function. It responses only if a client requires a response (need_rsp).  <br /></td></tr>
<tr class="separator:ace91c595b2b150a2105fc7fcbb4ec219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f6cef4c1b2631dee831e788cff230d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a31f6cef4c1b2631dee831e788cff230d">example_exec_write_event_env</a> (<a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a> *prepare_write_env, esp_ble_gatts_cb_param_t *param)</td></tr>
<tr class="memdesc:a31f6cef4c1b2631dee831e788cff230d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client finishes the long write sequence by sending an Executive Write Request. This command triggers an ESP_GATTS_EXEC_WRITE_EVT event. The server handles this event by sending a response and executing the <a class="el" href="main_8c.html#a31f6cef4c1b2631dee831e788cff230d" title="The client finishes the long write sequence by sending an Executive Write Request....">example_exec_write_event_env()</a> function.  <br /></td></tr>
<tr class="separator:a31f6cef4c1b2631dee831e788cff230d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a48bac59e80a396a3fc9c0a3c5ae805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1a48bac59e80a396a3fc9c0a3c5ae805">gap_event_handler</a> (esp_gap_ble_cb_event_t event, esp_ble_gap_cb_param_t *param)</td></tr>
<tr class="memdesc:a1a48bac59e80a396a3fc9c0a3c5ae805"><td class="mdescLeft">&#160;</td><td class="mdescRight">The functions <a class="el" href="main_8c.html#a9ea7447dc9109415cf708353b98b2c5b" title="GATTS event handler. The functions gatts_event_handler() and gap_event_handler() handle all the event...">gatts_event_handler()</a> and <a class="el" href="main_8c.html#a1a48bac59e80a396a3fc9c0a3c5ae805" title="The functions gatts_event_handler() and gap_event_handler() handle all the events that are pushed to ...">gap_event_handler()</a> handle all the events that are pushed to the application from the BLE stack.  <br /></td></tr>
<tr class="separator:a1a48bac59e80a396a3fc9c0a3c5ae805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ea7447dc9109415cf708353b98b2c5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9ea7447dc9109415cf708353b98b2c5b">gatts_event_handler</a> (esp_gatts_cb_event_t event, esp_gatt_if_t gatts_if, esp_ble_gatts_cb_param_t *param)</td></tr>
<tr class="memdesc:a9ea7447dc9109415cf708353b98b2c5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">GATTS event handler. The functions <a class="el" href="main_8c.html#a9ea7447dc9109415cf708353b98b2c5b" title="GATTS event handler. The functions gatts_event_handler() and gap_event_handler() handle all the event...">gatts_event_handler()</a> and <a class="el" href="main_8c.html#a1a48bac59e80a396a3fc9c0a3c5ae805" title="The functions gatts_event_handler() and gap_event_handler() handle all the events that are pushed to ...">gap_event_handler()</a> handle all the events that are pushed to the application from the BLE stack.  <br /></td></tr>
<tr class="separator:a9ea7447dc9109415cf708353b98b2c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1059c8afacec7168f7c156914d4e08de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1059c8afacec7168f7c156914d4e08de">esp_mesh_p2p_tx_main</a> (void *arg)</td></tr>
<tr class="memdesc:a1059c8afacec7168f7c156914d4e08de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main task for transmission over mesh.  <br /></td></tr>
<tr class="separator:a1059c8afacec7168f7c156914d4e08de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c0547563005d41e07f1112bf58ac1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aa9c0547563005d41e07f1112bf58ac1b">esp_mesh_p2p_rx_main</a> (void *arg)</td></tr>
<tr class="memdesc:aa9c0547563005d41e07f1112bf58ac1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Function for reception over mesh. Behavior after receiving message from other nodes is defined in this funtion. You find message identification numbers in <a class="el" href="mesh__msg__codes_8h.html" title="identification of messages">mesh_msg_codes.h</a>.  <br /></td></tr>
<tr class="separator:aa9c0547563005d41e07f1112bf58ac1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9dc638c8ef056dcce3e43536122bd92"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aa9dc638c8ef056dcce3e43536122bd92">esp_mesh_comm_p2p_start</a> (void)</td></tr>
<tr class="memdesc:aa9dc638c8ef056dcce3e43536122bd92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Mesh Function. This function creates main task for transmission and reception.  <br /></td></tr>
<tr class="separator:aa9dc638c8ef056dcce3e43536122bd92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9c46aa624e84aed87074009f90c6d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1a9c46aa624e84aed87074009f90c6d6">ip_event_handler</a> (void *arg, esp_event_base_t event_base, int32_t event_id, void *event_data)</td></tr>
<tr class="memdesc:a1a9c46aa624e84aed87074009f90c6d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">ip event handler. This function should be set into the event handler register.  <br /></td></tr>
<tr class="separator:a1a9c46aa624e84aed87074009f90c6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c97319c06e1ee5a17db89277d446b52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5c97319c06e1ee5a17db89277d446b52">mesh_event_handler</a> (void *arg, esp_event_base_t event_base, int32_t event_id, void *event_data)</td></tr>
<tr class="memdesc:a5c97319c06e1ee5a17db89277d446b52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mesh event handler. Action by starting/stopping networking, connecting to children/parent nodes, change of routing tables, etc. This function should be set into the event handler register.  <br /></td></tr>
<tr class="separator:a5c97319c06e1ee5a17db89277d446b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce06be17fc37d675118a678a8100a36"><td class="memItemLeft" align="right" valign="top"><a id="abce06be17fc37d675118a678a8100a36" name="abce06be17fc37d675118a678a8100a36"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>app_main</b> ()</td></tr>
<tr class="memdesc:abce06be17fc37d675118a678a8100a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main application. <br /></td></tr>
<tr class="separator:abce06be17fc37d675118a678a8100a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8b14478effc432075ce7a7accf45a24e"><td class="memItemLeft" align="right" valign="top"><a id="a8b14478effc432075ce7a7accf45a24e" name="a8b14478effc432075ce7a7accf45a24e"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>MESH_ID</b> [6] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x01}</td></tr>
<tr class="memdesc:a8b14478effc432075ce7a7accf45a24e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node with the same MESH_ID can communicates each other. <br /></td></tr>
<tr class="separator:a8b14478effc432075ce7a7accf45a24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a665873acda99f875fd55de720c26289e"><td class="memItemLeft" align="right" valign="top"><a id="a665873acda99f875fd55de720c26289e" name="a665873acda99f875fd55de720c26289e"></a>
static const mesh_addr_t&#160;</td><td class="memItemRight" valign="bottom"><b>broadcast_group_id</b> = {.addr = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff}}</td></tr>
<tr class="memdesc:a665873acda99f875fd55de720c26289e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast group. <br /></td></tr>
<tr class="separator:a665873acda99f875fd55de720c26289e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7da80610dbbeb4fd054daaf6fe390a"><td class="memItemLeft" align="right" valign="top"><a id="a6d7da80610dbbeb4fd054daaf6fe390a" name="a6d7da80610dbbeb4fd054daaf6fe390a"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>new_mac</b> [6] = {0x00,0x00,0x00,0x00,0xFF,0xFF}</td></tr>
<tr class="memdesc:a6d7da80610dbbeb4fd054daaf6fe390a"><td class="mdescLeft">&#160;</td><td class="mdescRight">base MAC address must be unicast MAC (least significant bit of first byte must be zero) <br /></td></tr>
<tr class="separator:a6d7da80610dbbeb4fd054daaf6fe390a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711336df082cc911e2ba90c20db8e214"><td class="memItemLeft" align="right" valign="top"><a id="a711336df082cc911e2ba90c20db8e214" name="a711336df082cc911e2ba90c20db8e214"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_mesh_connected</b> = false</td></tr>
<tr class="separator:a711336df082cc911e2ba90c20db8e214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95cbd6b99430748422cc048b4f29dc52"><td class="memItemLeft" align="right" valign="top"><a id="a95cbd6b99430748422cc048b4f29dc52" name="a95cbd6b99430748422cc048b4f29dc52"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_running</b> = true</td></tr>
<tr class="separator:a95cbd6b99430748422cc048b4f29dc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114b50d9a97654b9093f38a5b2d05edd"><td class="memItemLeft" align="right" valign="top"><a id="a114b50d9a97654b9093f38a5b2d05edd" name="a114b50d9a97654b9093f38a5b2d05edd"></a>
static mesh_addr_t&#160;</td><td class="memItemRight" valign="bottom"><b>mesh_parent_addr</b></td></tr>
<tr class="separator:a114b50d9a97654b9093f38a5b2d05edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd568d5b1636226e253102937a46b08"><td class="memItemLeft" align="right" valign="top"><a id="a4cd568d5b1636226e253102937a46b08" name="a4cd568d5b1636226e253102937a46b08"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>mesh_layer</b> = -1</td></tr>
<tr class="separator:a4cd568d5b1636226e253102937a46b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e067aca3b50af6bff3c6d42a0cb5c2"><td class="memItemLeft" align="right" valign="top"><a id="ab1e067aca3b50af6bff3c6d42a0cb5c2" name="ab1e067aca3b50af6bff3c6d42a0cb5c2"></a>
static esp_netif_t *&#160;</td><td class="memItemRight" valign="bottom"><b>netif_sta</b> = NULL</td></tr>
<tr class="separator:ab1e067aca3b50af6bff3c6d42a0cb5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b85930eedeaa29f5a286af4df00c94"><td class="memItemLeft" align="right" valign="top"><a id="a28b85930eedeaa29f5a286af4df00c94" name="a28b85930eedeaa29f5a286af4df00c94"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>tx_buf</b> [<a class="el" href="main_8c.html#a6a1eef3a18bfaa9a6c515692ffd9321e">TX_SIZE</a>] = { 0, }</td></tr>
<tr class="memdesc:a28b85930eedeaa29f5a286af4df00c94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for outgoing. <br /></td></tr>
<tr class="separator:a28b85930eedeaa29f5a286af4df00c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade36990bedc9cef35174cb192e406e64"><td class="memItemLeft" align="right" valign="top"><a id="ade36990bedc9cef35174cb192e406e64" name="ade36990bedc9cef35174cb192e406e64"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>rx_buf</b> [<a class="el" href="main_8c.html#aaa981e599aa044183d4c19a576cdc8a9">RX_SIZE</a>] = { 0, }</td></tr>
<tr class="memdesc:ade36990bedc9cef35174cb192e406e64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for incoming. <br /></td></tr>
<tr class="separator:ade36990bedc9cef35174cb192e406e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa753a2e50d5d7d6cbcbad56737050b54"><td class="memItemLeft" align="right" valign="top"><a id="aa753a2e50d5d7d6cbcbad56737050b54" name="aa753a2e50d5d7d6cbcbad56737050b54"></a>
static mesh_addr_t&#160;</td><td class="memItemRight" valign="bottom"><b>data_stream_table</b> [<a class="el" href="main_8c.html#a84637c2f2c34b66d2c6bfa848f1a7704">MESH_DATA_STREAM_TABLE_LEN</a>]</td></tr>
<tr class="separator:aa753a2e50d5d7d6cbcbad56737050b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ea1d4f1518302df95b6fafc720363b"><td class="memItemLeft" align="right" valign="top"><a id="a48ea1d4f1518302df95b6fafc720363b" name="a48ea1d4f1518302df95b6fafc720363b"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_of_destination</b> = 0</td></tr>
<tr class="separator:a48ea1d4f1518302df95b6fafc720363b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9adfbae839a49b8f3f7a662daf663874"><td class="memItemLeft" align="right" valign="top"><a id="a9adfbae839a49b8f3f7a662daf663874" name="a9adfbae839a49b8f3f7a662daf663874"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>current_total_nodes</b> = 0</td></tr>
<tr class="separator:a9adfbae839a49b8f3f7a662daf663874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a393457d99a790d40175481ea18085006"><td class="memItemLeft" align="right" valign="top"><a id="a393457d99a790d40175481ea18085006" name="a393457d99a790d40175481ea18085006"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>snapshot_total_nodes</b> = 0</td></tr>
<tr class="separator:a393457d99a790d40175481ea18085006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea1a8ddb361883204f6860642467c86"><td class="memItemLeft" align="right" valign="top"><a id="a0ea1a8ddb361883204f6860642467c86" name="a0ea1a8ddb361883204f6860642467c86"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>data_stream_table_trans_id</b></td></tr>
<tr class="separator:a0ea1a8ddb361883204f6860642467c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb611a956a0a1c368202068447b801f"><td class="memItemLeft" align="right" valign="top"><a id="a4bb611a956a0a1c368202068447b801f" name="a4bb611a956a0a1c368202068447b801f"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>current_root_mac</b> [6]</td></tr>
<tr class="separator:a4bb611a956a0a1c368202068447b801f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e60b2bab5aa58915cbd688ad94e3ac"><td class="memItemLeft" align="right" valign="top"><a id="a91e60b2bab5aa58915cbd688ad94e3ac" name="a91e60b2bab5aa58915cbd688ad94e3ac"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>default_dest_mac</b> [6] = {0xEC,0x94,0xCB,0x6F,0xBD,0xB0}</td></tr>
<tr class="separator:a91e60b2bab5aa58915cbd688ad94e3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730e5e5faee034b52ff0cda92049e6c2"><td class="memItemLeft" align="right" valign="top"><a id="a730e5e5faee034b52ff0cda92049e6c2" name="a730e5e5faee034b52ff0cda92049e6c2"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>ble_array</b> [BLE_ROUTE_TABLE_MTU]</td></tr>
<tr class="memdesc:a730e5e5faee034b52ff0cda92049e6c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of table size, node's name length, and wasmflag. <br /></td></tr>
<tr class="separator:a730e5e5faee034b52ff0cda92049e6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f5406551dfbc5db9a92e6554cf3d9d"><td class="memItemLeft" align="right" valign="top"><a id="ab7f5406551dfbc5db9a92e6554cf3d9d" name="ab7f5406551dfbc5db9a92e6554cf3d9d"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>ds_ble_array</b> [BLE_LOCAL_MTU]</td></tr>
<tr class="memdesc:ab7f5406551dfbc5db9a92e6554cf3d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array for data stream diagram. <br /></td></tr>
<tr class="separator:ab7f5406551dfbc5db9a92e6554cf3d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45fb6285bf1ca1ce8ef0e0dc3a730b6"><td class="memItemLeft" align="right" valign="top"><a id="ab45fb6285bf1ca1ce8ef0e0dc3a730b6" name="ab45fb6285bf1ca1ce8ef0e0dc3a730b6"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>ds_ble_array_offset</b> = 1</td></tr>
<tr class="memdesc:ab45fb6285bf1ca1ce8ef0e0dc3a730b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This offset indicates position of fragmented packet of data stream. <br /></td></tr>
<tr class="separator:ab45fb6285bf1ca1ce8ef0e0dc3a730b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2352abf1a2a518322d0dad757bf4fc"><td class="memItemLeft" align="right" valign="top"><a id="a1e2352abf1a2a518322d0dad757bf4fc" name="a1e2352abf1a2a518322d0dad757bf4fc"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_received_ds_table</b> = 0</td></tr>
<tr class="separator:a1e2352abf1a2a518322d0dad757bf4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5853d46b6317ed1c3ecf8d236984ea"><td class="memItemLeft" align="right" valign="top"><a id="a5d5853d46b6317ed1c3ecf8d236984ea" name="a5d5853d46b6317ed1c3ecf8d236984ea"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>this_node_is_Wasm_target</b> = true</td></tr>
<tr class="separator:a5d5853d46b6317ed1c3ecf8d236984ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc293dbd6050c2c9e7d088865b7c6ef6"><td class="memItemLeft" align="right" valign="top"><a id="acc293dbd6050c2c9e7d088865b7c6ef6" name="acc293dbd6050c2c9e7d088865b7c6ef6"></a>
mesh_addr_t&#160;</td><td class="memItemRight" valign="bottom"><b>wasm_target</b></td></tr>
<tr class="separator:acc293dbd6050c2c9e7d088865b7c6ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85283401115fc3b4af784622826fa37b"><td class="memItemLeft" align="right" valign="top"><a id="a85283401115fc3b4af784622826fa37b" name="a85283401115fc3b4af784622826fa37b"></a>
mesh_addr_t&#160;</td><td class="memItemRight" valign="bottom"><b>mesh_target</b></td></tr>
<tr class="separator:a85283401115fc3b4af784622826fa37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11eb7754e1e4f00e399678e3a662e553"><td class="memItemLeft" align="right" valign="top"><a id="a11eb7754e1e4f00e399678e3a662e553" name="a11eb7754e1e4f00e399678e3a662e553"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><b>MESH_TAG</b> = &quot;mesh_main&quot;</td></tr>
<tr class="separator:a11eb7754e1e4f00e399678e3a662e553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a85b9c772bbeb480b209a3e6ea92b4c"><td class="memItemLeft" align="right" valign="top"><a id="a5a85b9c772bbeb480b209a3e6ea92b4c" name="a5a85b9c772bbeb480b209a3e6ea92b4c"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><b>TAG</b> = &quot;wasm&quot;</td></tr>
<tr class="separator:a5a85b9c772bbeb480b209a3e6ea92b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337c4eb85a6630f6be64d9df37affe48"><td class="memItemLeft" align="right" valign="top"><a id="a337c4eb85a6630f6be64d9df37affe48" name="a337c4eb85a6630f6be64d9df37affe48"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>char1_str</b> [] = {0x11,0x22,0x33}</td></tr>
<tr class="memdesc:a337c4eb85a6630f6be64d9df37affe48"><td class="mdescLeft">&#160;</td><td class="mdescRight">example dummy data for initialization of the characteristic. Used by gatts_demo_char1_val <br /></td></tr>
<tr class="separator:a337c4eb85a6630f6be64d9df37affe48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b643280fe1255ec03dccb311975baf"><td class="memItemLeft" align="right" valign="top"><a id="af4b643280fe1255ec03dccb311975baf" name="af4b643280fe1255ec03dccb311975baf"></a>
static esp_gatt_char_prop_t&#160;</td><td class="memItemRight" valign="bottom"><b>wasm_property</b> = 0</td></tr>
<tr class="separator:af4b643280fe1255ec03dccb311975baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602f46dbaf40839c68791d39daf870c6"><td class="memItemLeft" align="right" valign="top"><a id="a602f46dbaf40839c68791d39daf870c6" name="a602f46dbaf40839c68791d39daf870c6"></a>
static esp_gatt_char_prop_t&#160;</td><td class="memItemRight" valign="bottom"><b>mesh_graph_property</b> = 0</td></tr>
<tr class="separator:a602f46dbaf40839c68791d39daf870c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d39cf64176df4acc93055d34db8addc"><td class="memItemLeft" align="right" valign="top"><a id="a6d39cf64176df4acc93055d34db8addc" name="a6d39cf64176df4acc93055d34db8addc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>wasm_packet_number</b> = 0</td></tr>
<tr class="separator:a6d39cf64176df4acc93055d34db8addc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535f96c772495d6e47d2bc1dd69b9025"><td class="memItemLeft" align="right" valign="top"><a id="a535f96c772495d6e47d2bc1dd69b9025" name="a535f96c772495d6e47d2bc1dd69b9025"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>wasm_current_transmit_offset</b> = 0</td></tr>
<tr class="separator:a535f96c772495d6e47d2bc1dd69b9025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc48cd5a00dc348adfc6c926794da8a"><td class="memItemLeft" align="right" valign="top">static esp_attr_value_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aadc48cd5a00dc348adfc6c926794da8a">gatts_demo_char1_val</a></td></tr>
<tr class="memdesc:aadc48cd5a00dc348adfc6c926794da8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">initial value of the characteristic. This struct will be set at event "ESP_GATTS_CREATE_EVT" (as a parameter for esp_ble_gatts_add_char)  <br /></td></tr>
<tr class="separator:aadc48cd5a00dc348adfc6c926794da8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ad7874889a444d2a92eddd658d6b60"><td class="memItemLeft" align="right" valign="top"><a id="a71ad7874889a444d2a92eddd658d6b60" name="a71ad7874889a444d2a92eddd658d6b60"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>adv_config_done</b> = 0</td></tr>
<tr class="memdesc:a71ad7874889a444d2a92eddd658d6b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">variable for checking if advertisement configurataion is done <br /></td></tr>
<tr class="separator:a71ad7874889a444d2a92eddd658d6b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3649b523562e5c3cc4adb0ac3beb3a52"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3649b523562e5c3cc4adb0ac3beb3a52">adv_service_uuid128</a> [32]</td></tr>
<tr class="memdesc:a3649b523562e5c3cc4adb0ac3beb3a52"><td class="mdescLeft">&#160;</td><td class="mdescRight">uuid for advertisement service  <br /></td></tr>
<tr class="separator:a3649b523562e5c3cc4adb0ac3beb3a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6bab3fd366271d5588e91a6420e0b0"><td class="memItemLeft" align="right" valign="top">static esp_ble_adv_data_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a4f6bab3fd366271d5588e91a6420e0b0">adv_data</a></td></tr>
<tr class="memdesc:a4f6bab3fd366271d5588e91a6420e0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">parameters for advertising data used by GAP configuration.  <br /></td></tr>
<tr class="separator:a4f6bab3fd366271d5588e91a6420e0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fb860dba0137132e1b5d606e56beee"><td class="memItemLeft" align="right" valign="top">static esp_ble_adv_data_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af5fb860dba0137132e1b5d606e56beee">scan_rsp_data</a></td></tr>
<tr class="memdesc:af5fb860dba0137132e1b5d606e56beee"><td class="mdescLeft">&#160;</td><td class="mdescRight">parameters for scan response data used by GAP configuration.  <br /></td></tr>
<tr class="separator:af5fb860dba0137132e1b5d606e56beee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee55223218f5469c9399d8b5503663e"><td class="memItemLeft" align="right" valign="top">static esp_ble_adv_params_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#abee55223218f5469c9399d8b5503663e">adv_params</a></td></tr>
<tr class="memdesc:abee55223218f5469c9399d8b5503663e"><td class="mdescLeft">&#160;</td><td class="mdescRight">parameters for BLE advertising.  <br /></td></tr>
<tr class="separator:abee55223218f5469c9399d8b5503663e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb49c146b7ae4db02c201944306c8b79"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structgatts__profile__inst.html">gatts_profile_inst</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#acb49c146b7ae4db02c201944306c8b79">gl_profile_tab</a> [PROFILE_NUM]</td></tr>
<tr class="separator:acb49c146b7ae4db02c201944306c8b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4e38115d8c778969a09150029b32f2"><td class="memItemLeft" align="right" valign="top"><a id="a5f4e38115d8c778969a09150029b32f2" name="a5f4e38115d8c778969a09150029b32f2"></a>
static <a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>a_prepare_write_env</b></td></tr>
<tr class="separator:a5f4e38115d8c778969a09150029b32f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c666e0315d1dc4279eebdeb2cc0f0b"><td class="memItemLeft" align="right" valign="top"><a id="a84c666e0315d1dc4279eebdeb2cc0f0b" name="a84c666e0315d1dc4279eebdeb2cc0f0b"></a>
static <a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>b_prepare_write_env</b></td></tr>
<tr class="separator:a84c666e0315d1dc4279eebdeb2cc0f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>main program of the monitor node. </p>
<dl class="section author"><dt>Author</dt><dd>O. Nakakaze </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa9dc638c8ef056dcce3e43536122bd92" name="aa9dc638c8ef056dcce3e43536122bd92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9dc638c8ef056dcce3e43536122bd92">&#9670;&#160;</a></span>esp_mesh_comm_p2p_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t esp_mesh_comm_p2p_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main Mesh Function. This function creates main task for transmission and reception. </p>
<dl class="section return"><dt>Returns</dt><dd>esp_err_t </dd></dl>

</div>
</div>
<a id="aa9c0547563005d41e07f1112bf58ac1b" name="aa9c0547563005d41e07f1112bf58ac1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c0547563005d41e07f1112bf58ac1b">&#9670;&#160;</a></span>esp_mesh_p2p_rx_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp_mesh_p2p_rx_main </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main Function for reception over mesh. Behavior after receiving message from other nodes is defined in this funtion. You find message identification numbers in <a class="el" href="mesh__msg__codes_8h.html" title="identification of messages">mesh_msg_codes.h</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1059c8afacec7168f7c156914d4e08de" name="a1059c8afacec7168f7c156914d4e08de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1059c8afacec7168f7c156914d4e08de">&#9670;&#160;</a></span>esp_mesh_p2p_tx_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp_mesh_p2p_tx_main </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main task for transmission over mesh. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31f6cef4c1b2631dee831e788cff230d" name="a31f6cef4c1b2631dee831e788cff230d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f6cef4c1b2631dee831e788cff230d">&#9670;&#160;</a></span>example_exec_write_event_env()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void example_exec_write_event_env </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a> *&#160;</td>
          <td class="paramname"><em>prepare_write_env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_ble_gatts_cb_param_t *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The client finishes the long write sequence by sending an Executive Write Request. This command triggers an ESP_GATTS_EXEC_WRITE_EVT event. The server handles this event by sending a response and executing the <a class="el" href="main_8c.html#a31f6cef4c1b2631dee831e788cff230d" title="The client finishes the long write sequence by sending an Executive Write Request....">example_exec_write_event_env()</a> function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prepare_write_env,<a class="el" href="structprepare__type__env__t.html" title="ã€€a prepare buffer structure to handle long characteristic write">prepare_type_env_t</a></td><td></td></tr>
    <tr><td class="paramname">param,esp_ble_gatts_cb_param_t</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace91c595b2b150a2105fc7fcbb4ec219" name="ace91c595b2b150a2105fc7fcbb4ec219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace91c595b2b150a2105fc7fcbb4ec219">&#9670;&#160;</a></span>example_write_event_env()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void example_write_event_env </td>
          <td>(</td>
          <td class="paramtype">esp_gatt_if_t&#160;</td>
          <td class="paramname"><em>gatts_if</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprepare__type__env__t.html">prepare_type_env_t</a> *&#160;</td>
          <td class="paramname"><em>prepare_write_env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_ble_gatts_cb_param_t *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write event function. It responses only if a client requires a response (need_rsp). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gatts_if</td><td></td></tr>
    <tr><td class="paramname">prepare_write_env</td><td></td></tr>
    <tr><td class="paramname">param</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1a48bac59e80a396a3fc9c0a3c5ae805" name="a1a48bac59e80a396a3fc9c0a3c5ae805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a48bac59e80a396a3fc9c0a3c5ae805">&#9670;&#160;</a></span>gap_event_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gap_event_handler </td>
          <td>(</td>
          <td class="paramtype">esp_gap_ble_cb_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_ble_gap_cb_param_t *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The functions <a class="el" href="main_8c.html#a9ea7447dc9109415cf708353b98b2c5b" title="GATTS event handler. The functions gatts_event_handler() and gap_event_handler() handle all the event...">gatts_event_handler()</a> and <a class="el" href="main_8c.html#a1a48bac59e80a396a3fc9c0a3c5ae805" title="The functions gatts_event_handler() and gap_event_handler() handle all the events that are pushed to ...">gap_event_handler()</a> handle all the events that are pushed to the application from the BLE stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event,GAP</td><td>callback parameters union </td></tr>
    <tr><td class="paramname">param,GAP</td><td>BLE callback event type</td></tr>
  </table>
  </dd>
</dl>
<p>Once the advertising data have been set, the GAP event ESP_GAP_BLE_ADV_DATA_SET_COMPLETE_EVT is triggered. For the case of raw advertising data set, the event triggered is ESP_GAP_BLE_ADV_DATA_RAW_SET_COMPLETE_EVT. Additionally when the raw scan response data is set, ESP_GAP_BLE_SCAN_RSP_DATA_RAW_SET_COMPLETE_EVT event is triggered. </p>

</div>
</div>
<a id="a9ea7447dc9109415cf708353b98b2c5b" name="a9ea7447dc9109415cf708353b98b2c5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ea7447dc9109415cf708353b98b2c5b">&#9670;&#160;</a></span>gatts_event_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gatts_event_handler </td>
          <td>(</td>
          <td class="paramtype">esp_gatts_cb_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_gatt_if_t&#160;</td>
          <td class="paramname"><em>gatts_if</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_ble_gatts_cb_param_t *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GATTS event handler. The functions <a class="el" href="main_8c.html#a9ea7447dc9109415cf708353b98b2c5b" title="GATTS event handler. The functions gatts_event_handler() and gap_event_handler() handle all the event...">gatts_event_handler()</a> and <a class="el" href="main_8c.html#a1a48bac59e80a396a3fc9c0a3c5ae805" title="The functions gatts_event_handler() and gap_event_handler() handle all the events that are pushed to ...">gap_event_handler()</a> handle all the events that are pushed to the application from the BLE stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td></td></tr>
    <tr><td class="paramname">gatts_if</td><td></td></tr>
    <tr><td class="paramname">param</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62fd7dabbab3d2efc5c922b5b0fb75dd" name="a62fd7dabbab3d2efc5c922b5b0fb75dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fd7dabbab3d2efc5c922b5b0fb75dd">&#9670;&#160;</a></span>gatts_profile_mesh_graph_event_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gatts_profile_mesh_graph_event_handler </td>
          <td>(</td>
          <td class="paramtype">esp_gatts_cb_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_gatt_if_t&#160;</td>
          <td class="paramname"><em>gatts_if</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_ble_gatts_cb_param_t *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The application profiles for mesh network communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td></td></tr>
    <tr><td class="paramname">gatts_if</td><td></td></tr>
    <tr><td class="paramname">param</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>A monitor node calls this function to handle request related to the data stream network table. For example, the web application sends a message with the BLE_ADD_DATA_DEST code after adding a edge between node in the visualized graph of UI. Then, such message should be hanldled by this function. </p>

</div>
</div>
<a id="a43099092a7cf7883ba5a16bbd3983124" name="a43099092a7cf7883ba5a16bbd3983124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43099092a7cf7883ba5a16bbd3983124">&#9670;&#160;</a></span>gatts_profile_wasm_event_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gatts_profile_wasm_event_handler </td>
          <td>(</td>
          <td class="paramtype">esp_gatts_cb_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_gatt_if_t&#160;</td>
          <td class="paramname"><em>gatts_if</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_ble_gatts_cb_param_t *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Declare the static function. </p>
<p>The application profiles for Wasm updates are stored in an array and corresponding callback functions here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td></td></tr>
    <tr><td class="paramname">gatts_if</td><td></td></tr>
    <tr><td class="paramname">param</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>First, a client sends an information about a new Wasm binary, such as, total number of packets, MAC address of the target node. A receiver calls this function to check if the arrived msg is for him and handle the packet. If yes, the next payload will be written into the Wasm binary file. </p>

</div>
</div>
<a id="a1a9c46aa624e84aed87074009f90c6d6" name="a1a9c46aa624e84aed87074009f90c6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a9c46aa624e84aed87074009f90c6d6">&#9670;&#160;</a></span>ip_event_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ip_event_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_event_base_t&#160;</td>
          <td class="paramname"><em>event_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>event_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ip event handler. This function should be set into the event handler register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td></td></tr>
    <tr><td class="paramname">event_base</td><td></td></tr>
    <tr><td class="paramname">event_id</td><td></td></tr>
    <tr><td class="paramname">event_data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c97319c06e1ee5a17db89277d446b52" name="a5c97319c06e1ee5a17db89277d446b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c97319c06e1ee5a17db89277d446b52">&#9670;&#160;</a></span>mesh_event_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mesh_event_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_event_base_t&#160;</td>
          <td class="paramname"><em>event_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>event_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mesh event handler. Action by starting/stopping networking, connecting to children/parent nodes, change of routing tables, etc. This function should be set into the event handler register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td></td></tr>
    <tr><td class="paramname">event_base</td><td></td></tr>
    <tr><td class="paramname">event_id</td><td></td></tr>
    <tr><td class="paramname">event_data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4f6bab3fd366271d5588e91a6420e0b0" name="a4f6bab3fd366271d5588e91a6420e0b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f6bab3fd366271d5588e91a6420e0b0">&#9670;&#160;</a></span>adv_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_ble_adv_data_t adv_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .set_scan_rsp = <span class="keyword">false</span>,</div>
<div class="line">    .include_name = <span class="keyword">true</span>,</div>
<div class="line">    .include_txpower = <span class="keyword">false</span>,</div>
<div class="line">    .min_interval = 0x0006, </div>
<div class="line">    .max_interval = 0x0010, </div>
<div class="line">    .appearance = 0x00,</div>
<div class="line">    .manufacturer_len = 0, </div>
<div class="line">    .p_manufacturer_data =  NULL, </div>
<div class="line">    .service_data_len = 0,</div>
<div class="line">    .p_service_data = NULL,</div>
<div class="line">    .service_uuid_len = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="main_8c.html#a3649b523562e5c3cc4adb0ac3beb3a52">adv_service_uuid128</a>),</div>
<div class="line">    .p_service_uuid = <a class="code hl_variable" href="main_8c.html#a3649b523562e5c3cc4adb0ac3beb3a52">adv_service_uuid128</a>,</div>
<div class="line">    .flag = (ESP_BLE_ADV_FLAG_GEN_DISC | ESP_BLE_ADV_FLAG_BREDR_NOT_SPT),</div>
<div class="line">}</div>
<div class="ttc" id="amain_8c_html_a3649b523562e5c3cc4adb0ac3beb3a52"><div class="ttname"><a href="main_8c.html#a3649b523562e5c3cc4adb0ac3beb3a52">adv_service_uuid128</a></div><div class="ttdeci">static uint8_t adv_service_uuid128[32]</div><div class="ttdoc">uuid for advertisement service</div><div class="ttdef"><b>Definition:</b> main.c:157</div></div>
</div><!-- fragment -->
<p>parameters for advertising data used by GAP configuration. </p>

</div>
</div>
<a id="abee55223218f5469c9399d8b5503663e" name="abee55223218f5469c9399d8b5503663e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abee55223218f5469c9399d8b5503663e">&#9670;&#160;</a></span>adv_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_ble_adv_params_t adv_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">    .adv_int_min        = 0x20,</div>
<div class="line">    </div>
<div class="line">    .adv_int_max        = 0x40,</div>
<div class="line">    </div>
<div class="line">    .adv_type           = ADV_TYPE_IND,</div>
<div class="line">    </div>
<div class="line">    .own_addr_type      = BLE_ADDR_TYPE_PUBLIC,</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    .channel_map        = ADV_CHNL_ALL,</div>
<div class="line">    </div>
<div class="line">    .adv_filter_policy = ADV_FILTER_ALLOW_SCAN_ANY_CON_ANY,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>parameters for BLE advertising. </p>

</div>
</div>
<a id="a3649b523562e5c3cc4adb0ac3beb3a52" name="a3649b523562e5c3cc4adb0ac3beb3a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3649b523562e5c3cc4adb0ac3beb3a52">&#9670;&#160;</a></span>adv_service_uuid128</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t adv_service_uuid128[32]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0xEE, 0x00, 0x00, 0x00,</div>
<div class="line">    </div>
<div class="line">    0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>uuid for advertisement service </p>

</div>
</div>
<a id="aadc48cd5a00dc348adfc6c926794da8a" name="aadc48cd5a00dc348adfc6c926794da8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadc48cd5a00dc348adfc6c926794da8a">&#9670;&#160;</a></span>gatts_demo_char1_val</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_attr_value_t gatts_demo_char1_val</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">    .attr_max_len = GATTS_DEMO_CHAR_VAL_LEN_MAX,</div>
<div class="line">    </div>
<div class="line">    .attr_len     = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="main_8c.html#a337c4eb85a6630f6be64d9df37affe48">char1_str</a>),</div>
<div class="line">    </div>
<div class="line">    .attr_value   = <a class="code hl_variable" href="main_8c.html#a337c4eb85a6630f6be64d9df37affe48">char1_str</a>,</div>
<div class="line">}</div>
<div class="ttc" id="amain_8c_html_a337c4eb85a6630f6be64d9df37affe48"><div class="ttname"><a href="main_8c.html#a337c4eb85a6630f6be64d9df37affe48">char1_str</a></div><div class="ttdeci">static uint8_t char1_str[]</div><div class="ttdoc">example dummy data for initialization of the characteristic. Used by gatts_demo_char1_val</div><div class="ttdef"><b>Definition:</b> main.c:122</div></div>
</div><!-- fragment -->
<p>initial value of the characteristic. This struct will be set at event "ESP_GATTS_CREATE_EVT" (as a parameter for esp_ble_gatts_add_char) </p>

</div>
</div>
<a id="acb49c146b7ae4db02c201944306c8b79" name="acb49c146b7ae4db02c201944306c8b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb49c146b7ae4db02c201944306c8b79">&#9670;&#160;</a></span>gl_profile_tab</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structgatts__profile__inst.html">gatts_profile_inst</a> gl_profile_tab[PROFILE_NUM]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [PROFILE_WASM_APP_ID] = {</div>
<div class="line">        .gatts_cb = <a class="code hl_function" href="main_8c.html#a43099092a7cf7883ba5a16bbd3983124">gatts_profile_wasm_event_handler</a>,</div>
<div class="line">        .gatts_if = ESP_GATT_IF_NONE,       </div>
<div class="line">    },</div>
<div class="line">    [PROFILE_MESH_GRAPH_APP_ID] = {</div>
<div class="line">        .gatts_cb = <a class="code hl_function" href="main_8c.html#a62fd7dabbab3d2efc5c922b5b0fb75dd">gatts_profile_mesh_graph_event_handler</a>,</div>
<div class="line">        .gatts_if = ESP_GATT_IF_NONE,       </div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="amain_8c_html_a43099092a7cf7883ba5a16bbd3983124"><div class="ttname"><a href="main_8c.html#a43099092a7cf7883ba5a16bbd3983124">gatts_profile_wasm_event_handler</a></div><div class="ttdeci">static void gatts_profile_wasm_event_handler(esp_gatts_cb_event_t event, esp_gatt_if_t gatts_if, esp_ble_gatts_cb_param_t *param)</div><div class="ttdoc">Declare the static function.</div><div class="ttdef"><b>Definition:</b> main.c:419</div></div>
<div class="ttc" id="amain_8c_html_a62fd7dabbab3d2efc5c922b5b0fb75dd"><div class="ttname"><a href="main_8c.html#a62fd7dabbab3d2efc5c922b5b0fb75dd">gatts_profile_mesh_graph_event_handler</a></div><div class="ttdeci">static void gatts_profile_mesh_graph_event_handler(esp_gatts_cb_event_t event, esp_gatt_if_t gatts_if, esp_ble_gatts_cb_param_t *param)</div><div class="ttdoc">The application profiles for mesh network communication.</div><div class="ttdef"><b>Definition:</b> main.c:717</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5fb860dba0137132e1b5d606e56beee" name="af5fb860dba0137132e1b5d606e56beee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5fb860dba0137132e1b5d606e56beee">&#9670;&#160;</a></span>scan_rsp_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_ble_adv_data_t scan_rsp_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .set_scan_rsp = <span class="keyword">true</span>,</div>
<div class="line">    .include_name = <span class="keyword">true</span>,</div>
<div class="line">    .include_txpower = <span class="keyword">true</span>,</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    .appearance = 0x00,</div>
<div class="line">    .manufacturer_len = 0, </div>
<div class="line">    .p_manufacturer_data =  NULL, </div>
<div class="line">    .service_data_len = 0,</div>
<div class="line">    .p_service_data = NULL,</div>
<div class="line">    .service_uuid_len = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="main_8c.html#a3649b523562e5c3cc4adb0ac3beb3a52">adv_service_uuid128</a>),</div>
<div class="line">    .p_service_uuid = <a class="code hl_variable" href="main_8c.html#a3649b523562e5c3cc4adb0ac3beb3a52">adv_service_uuid128</a>,</div>
<div class="line">    .flag = (ESP_BLE_ADV_FLAG_GEN_DISC | ESP_BLE_ADV_FLAG_BREDR_NOT_SPT),</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>parameters for scan response data used by GAP configuration. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
